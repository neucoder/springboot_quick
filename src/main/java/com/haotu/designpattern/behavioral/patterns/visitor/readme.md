# 访问者模式

一、访问者模式基本介绍
【1】访问者模式（Visitor Pattern）： 封装一些作用于某种数据结构的各元素的操作，它可以在不改变数据结构的前提下定义作用于这些元素的新操作。为数据结构中的每个元素提供多种访问方式。它将对数据的操作与数据结构进行分离，是行为类模式中最复杂的一种模式。
【2】主要将数据结构与数据操作分离： 解决数据结构和操作耦合性问题。
【3】访问者模式的基本工作原理： 在被访问者（上面提到的评委）的类里面加一个对外提供接待访问者的接口。
【4】访问者模式主要应用场景： 需要对一个对象结构中的对象进行很多不同的操作（这些操作彼此没有关联），同时避免让这些操作 “污染” 这些类对象，可以选用访问者模式。

二、访问者模式的优缺点
【访问者（Visitor）模式，其主要优点如下】：
 ● 扩展性好：能够在不修改对象结构中元素的情况下，为对象结构中的元素添加新功能；
 ● 复用性好：可以通过访问者来定义整个对象结构通用的功能，从而提高系统的复用功能；
 ● 灵活性好：访问者模式将数据结构与作用于结构上的操作解耦，使得操作集合可相对自由；

【访问者（Visitor）模式，其主要缺点如下】：
 ● 增加新的元素类很困难：在访问者模式中，每增加一个新的元素类，都要在每一个具体访问者类中增加响应的具体操作，违背了 “开闭原则”。
 ● 破坏封装：访问者模式中具体元素对访问者公布细节，这破坏了对象的封装性。
 ● 违反了依赖倒置原则：访问模式依赖了具体类，而没有依赖抽象类。
 ● 具体元素对访问者公布细节：也就是说访问者关注了其他类的内部细节，这是迪米特法则所不建议的，这样造成了具体元素变得更比较困难。

#